# 数据库三大范式

> 记忆关键：
>
> 第一范式：保证属性的**原子性**
>
> 第二范式：保证记录的**唯一性**
>
> 第三范式：消除**冗余**字段

## 第一范式

每个属性不可分，在形式上体现为严格的横列表格。

```
Person(id, name(lname, fname))
```

 因为属性 name 包含了 lname 和 fname 两个属性，不符合第一范式。

## 第二范式

 要求记录有唯一标识，即**实体的唯一性**，不存在部分依赖，非主键字段必须完全依赖于主键 。 

> 表（ 学号，课程号，姓名，学分 ）

 这里主键为{学号，课程号}， 非主键字段为姓名，学分

由于仅仅由学号即可决定姓名，存在部分函数依赖，所以不满足第二范式。

## 第三范式

 在第二范式的基础上，数据表中如果**不存在**非关键字段对任一候选关键字段的**传递函数依赖**，则符合第三范式。 

> （ 学号，姓名，年龄，学院名称，学院电话 ）

存在传递依赖：

```
学号 -> 学号 -> 学院名称 -> 学院电话
```

 学号并不直接决定所在学院电话，不满足第三范式。 

可能存在的问题：

- 数据冗余：有重复值，一张表绝大多数记录中的学院电话都是相同的，浪费空间
- 更新异常：有重复的冗余信息，修改时**需要同时修改多条记录**，否则会出现数据不一致的情况，比如计算机学院的电话修改了，那么该表所有记录中的学院电话都需要进行修改。

解决的办法是将表拆分成两个表：
 一个是学生表：学号，姓名，年龄，所在学院名称
 另一个是学院表：学院名称，学院电话